(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function a(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(e){if(e.ep)return;e.ep=!0;const n=a(e);fetch(e.href,n)}})();class d{constructor(){this.score=0,this.isPanicActive=!1,this.signals=[{id:"micro-expressions",name:"Micro-Expressions",value:5,weight:.35,color:"var(--accent-teal)"},{id:"body-movement",name:"Body Micro-Behavior",value:5,weight:.25,color:"var(--accent-amber)"},{id:"eye-indicators",name:"Eye & Gaze Tracking",value:8,weight:.15,color:"var(--accent-blue)"},{id:"vocal-rhythm",name:"Vocal Micro-Sounds",value:3,weight:.25,color:"var(--accent-rose)"}]}updateScore(){const r=this.signals.reduce((a,s)=>a+s.value*s.weight,0);return this.score=Math.min(100,Math.round(r)),this.score}getStatus(){return this.score<25?{text:"System Calm",color:"var(--accent-teal)"}:this.score<55?{text:"Anomaly Detected",color:"var(--accent-amber)"}:this.score<85?{text:"Probable Distress",color:"var(--accent-rose)"}:{text:"Immediate Risk",color:"var(--accent-rose)"}}boostSignal(r,a){const s=this.signals.find(e=>e.id===r);s&&(s.value=Math.min(100,s.value+a))}reset(){this.signals.forEach(r=>r.value=5+Math.random()*5),this.isPanicActive=!1,this.updateScore()}}document.addEventListener("DOMContentLoaded",()=>{const o=new d,r=document.getElementById("distress-status"),a=document.getElementById("distress-score"),s=document.getElementById("distress-meter-fill"),e=document.getElementById("signal-monitors"),n=()=>{e.innerHTML=o.signals.map(t=>`
      <div style="display: flex; justify-content: space-between; align-items: center; font-size: 0.75rem;">
        <span style="color: var(--text-secondary);">${t.name}</span>
        <div style="width: 100px; height: 4px; background: rgba(255,255,255,0.05); border-radius: 2px; margin: 0 1rem; position: relative;">
          <div style="position: absolute; left: 0; top: 0; height: 100%; width: ${t.value}%; background: ${t.color}; transition: width 0.8s ease;"></div>
        </div>
        <span style="font-family: monospace; color: var(--text-muted); width: 25px; text-align: right;">${Math.round(t.value)}%</span>
      </div>
    `).join("")},i=()=>{const t=o.updateScore(),c=o.getStatus();a.textContent=t,r.textContent=c.text.toUpperCase(),r.style.color=c.color,s.style.width=`${t}%`,s.style.background=c.color,n()};document.getElementById("btn-trigger-panic").addEventListener("click",()=>{o.isPanicActive=!0,o.boostSignal("micro-expressions",40+Math.random()*20),o.boostSignal("body-movement",35+Math.random()*15),o.boostSignal("vocal-rhythm",30+Math.random()*20),i()}),document.getElementById("btn-reset-demo").addEventListener("click",()=>{o.reset(),i()}),document.getElementById("btn-nics-dashboard").addEventListener("click",()=>{alert("Connecting to NICS National Dashboard... [SSL Overlays Active]")}),document.getElementById("btn-explore-engine").addEventListener("click",()=>{document.getElementById("demo").scrollIntoView({behavior:"smooth"})}),document.getElementById("btn-read-ethics").addEventListener("click",()=>{document.getElementById("ethics").scrollIntoView({behavior:"smooth"})}),document.getElementById("btn-view-whitepaper").addEventListener("click",()=>{alert("Downloading SSL Ethics v2.4 (Geometry-Based Detection Standards)...")});const l=new IntersectionObserver(t=>{t.forEach(c=>{c.isIntersecting&&c.target.classList.add("visible")})},{threshold:.1});document.querySelectorAll(".reveal").forEach(t=>l.observe(t)),setInterval(()=>{o.isPanicActive||(o.signals.forEach(t=>{t.value=Math.max(2,Math.min(15,t.value+(Math.random()*2-1)))}),i())},2e3),o.reset(),i()});
